<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio de Quentin B. | BTS SIO SISR</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Patrick+Hand&family=Caveat:wght@400;700&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Patrick Hand', cursive;
            background: linear-gradient(to bottom, #87CEEB 0%, #98D8C8 50%, #90EE90 100%);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        /* Nuages flottants */
        .cloud {
            position: absolute;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 100px;
            animation: float 20s infinite ease-in-out;
        }

        .cloud::before, .cloud::after {
            content: '';
            position: absolute;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 100px;
        }

        .cloud1 {
            width: 100px;
            height: 40px;
            top: 50px;
            left: 10%;
        }

        .cloud1::before {
            width: 50px;
            height: 40px;
            top: -20px;
            left: 10px;
        }

        .cloud1::after {
            width: 60px;
            height: 30px;
            top: -10px;
            right: 10px;
        }

        .cloud2 {
            width: 120px;
            height: 45px;
            top: 150px;
            right: 15%;
            animation-delay: -5s;
        }

        .cloud2::before {
            width: 60px;
            height: 45px;
            top: -22px;
            left: 15px;
        }

        .cloud2::after {
            width: 70px;
            height: 35px;
            top: -12px;
            right: 15px;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }

        /* Navigation artistique */
        nav {
            position: fixed;
            top: 30px;
            right: 40px;
            z-index: 1000;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .nav-item {
            background: rgba(255, 255, 255, 0.9);
            padding: 12px 25px;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            border: 3px solid #6B8E23;
            font-size: 1.2rem;
            color: #2F4F2F;
            transform: rotate(-2deg);
        }

        .nav-item:nth-child(2) {
            transform: rotate(1deg);
        }

        .nav-item:nth-child(3) {
            transform: rotate(-1deg);
        }

        .nav-item:nth-child(4) {
            transform: rotate(2deg);
        }

        .nav-item:hover {
            transform: scale(1.1) rotate(0deg);
            background: #F0FFF0;
            box-shadow: 0 6px 20px rgba(107, 142, 35, 0.3);
        }

        /* Page d'accueil style Totoro */
        #accueil {
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .title-container {
            text-align: center;
            position: relative;
            z-index: 10;
        }

        .title-container h1 {
            font-family: 'Caveat', cursive;
            font-size: 5rem;
            color: #2F4F2F;
            text-shadow: 3px 3px 0px rgba(255, 255, 255, 0.7);
            animation: gentle-bounce 3s infinite ease-in-out;
        }

        @keyframes gentle-bounce {
            0%, 100% { transform: translateY(0px) rotate(-1deg); }
            50% { transform: translateY(-10px) rotate(1deg); }
        }

        .subtitle {
            position: fixed;
            bottom: 30px;
            left: 30px;
            font-size: 1.1rem;
            color: rgba(47, 79, 47, 0.6);
            letter-spacing: 1px;
        }

        /* Arbres d√©coratifs */
        .tree {
            position: absolute;
            bottom: 0;
        }

        .tree-left {
            left: 50px;
            width: 150px;
            height: 200px;
            background: #228B22;
            clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
            opacity: 0.7;
        }

        .tree-right {
            right: 80px;
            width: 120px;
            height: 180px;
            background: #32CD32;
            clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
            opacity: 0.6;
        }

        /* Section cr√©ations - disposition √©clat√©e */
        #creations {
            min-height: 100vh;
            padding: 100px 50px;
            position: relative;
        }

        .creations-title {
            font-family: 'Caveat', cursive;
            font-size: 4rem;
            color: #2F4F2F;
            text-align: center;
            margin-bottom: 80px;
            text-shadow: 2px 2px 0px rgba(255, 255, 255, 0.7);
        }

        .creations-scattered {
            position: relative;
            max-width: 1400px;
            margin: 0 auto;
            min-height: 1200px;
        }

        .creation-card {
            position: absolute;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
            border: 4px solid #8FBC8F;
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            cursor: pointer;
            max-width: 300px;
        }

        .creation-card:hover {
            transform: scale(1.05) rotate(0deg) !important;
            box-shadow: 0 12px 35px rgba(107, 142, 35, 0.3);
            z-index: 100;
        }

        .creation-card:nth-child(1) {
            top: 0;
            left: 5%;
            transform: rotate(-5deg);
        }

        .creation-card:nth-child(2) {
            top: 50px;
            right: 10%;
            transform: rotate(3deg);
        }

        .creation-card:nth-child(3) {
            top: 250px;
            left: 30%;
            transform: rotate(-2deg);
        }

        .creation-card:nth-child(4) {
            top: 350px;
            right: 25%;
            transform: rotate(4deg);
        }

        .creation-card:nth-child(5) {
            top: 600px;
            left: 10%;
            transform: rotate(2deg);
        }

        .creation-card:nth-child(6) {
            top: 700px;
            right: 15%;
            transform: rotate(-3deg);
        }

        .creation-card:nth-child(7) {
            top: 950px;
            left: 35%;
            transform: rotate(1deg);
        }

        .creation-icon {
            font-size: 3.5rem;
            text-align: center;
            margin-bottom: 15px;
            animation: wiggle 2s infinite ease-in-out;
        }

        @keyframes wiggle {
            0%, 100% { transform: rotate(-5deg); }
            50% { transform: rotate(5deg); }
        }

        .creation-card h3 {
            font-family: 'Caveat', cursive;
            font-size: 1.8rem;
            color: #2F4F2F;
            margin-bottom: 10px;
            text-align: center;
        }

        .creation-card p {
            font-size: 1rem;
            color: #555;
            line-height: 1.6;
            text-align: center;
        }

        .creation-tag {
            display: inline-block;
            background: #F0FFF0;
            border: 2px solid #90EE90;
            padding: 5px 15px;
            border-radius: 20px;
            margin-top: 10px;
            font-size: 0.9rem;
            color: #2F4F2F;
        }

        /* Section contact */
        #contact {
            min-height: 100vh;
            padding: 100px 50px;
            display: none;
            align-items: center;
            justify-content: center;
        }

        #contact.active {
            display: flex;
        }

        /* Section Synth√®se */
        #synthese {
            min-height: 100vh;
            padding: 100px 50px;
        }

        .synthese-container {
            max-width: 1000px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 30px;
            padding: 50px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
            border: 5px solid #8FBC8F;
            transform: rotate(-0.5deg);
        }

        .synthese-container h2 {
            font-family: 'Caveat', cursive;
            font-size: 3.5rem;
            color: #2F4F2F;
            text-align: center;
            margin-bottom: 30px;
        }

        .pdf-upload-zone {
            border: 2px dashed #90EE90;
            border-radius: 20px;
            padding: 20px;
            text-align: center;
            background: #F0FFF0;
            cursor: pointer;
            transition: all 0.3s;
            display: none;
        }

        .pdf-upload-zone.show {
            display: block;
        }

        .pdf-upload-zone:hover {
            background: #E8F5E9;
            border-color: #6B8E23;
        }

        .replace-pdf-btn {
            background: #90EE90;
            color: #2F4F2F;
            border: 3px solid #6B8E23;
            padding: 10px 25px;
            border-radius: 50px;
            cursor: pointer;
            font-family: 'Caveat', cursive;
            font-size: 1.1rem;
            transition: all 0.3s;
            margin-top: 15px;
        }

        .replace-pdf-btn:hover {
            background: #6B8E23;
            color: white;
            transform: scale(1.05);
        }

        .pdf-upload-zone input {
            display: none;
        }

        .pdf-viewer {
            width: 100%;
            height: 600px;
            border: 3px solid #90EE90;
            border-radius: 20px;
            margin-top: 20px;
            display: none;
            background: white;
            overflow: auto;
        }

        .pdf-viewer.active {
            display: block;
        }

        .pdf-canvas-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            padding: 20px;
        }

        .pdf-canvas {
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            max-width: 100%;
        }

        .pdf-controls {
            display: flex;
            gap: 10px;
            align-items: center;
            background: #F0FFF0;
            padding: 10px 20px;
            border-radius: 50px;
            margin-bottom: 10px;
        }

        .pdf-controls button {
            background: #90EE90;
            border: 2px solid #6B8E23;
            padding: 8px 20px;
            border-radius: 20px;
            cursor: pointer;
            font-family: 'Patrick Hand', cursive;
            font-size: 1rem;
            transition: all 0.3s;
        }

        .pdf-controls button:hover:not(:disabled) {
            background: #6B8E23;
            color: white;
        }

        .pdf-controls button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .pdf-page-info {
            font-size: 1rem;
            color: #2F4F2F;
        }

        /* Modal pour les cr√©ations */
        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            animation: fadeIn 0.3s;
        }

        .modal.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal-content {
            background: rgba(255, 255, 255, 0.98);
            margin: 3% auto;
            padding: 40px;
            border: 5px solid #8FBC8F;
            border-radius: 30px;
            width: 90%;
            max-width: 1000px;
            max-height: 85vh;
            overflow-y: auto;
            position: relative;
            animation: slideDown 0.4s;
        }

        @keyframes slideDown {
            from { transform: translateY(-50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .close-modal {
            position: absolute;
            right: 20px;
            top: 20px;
            font-size: 2.5rem;
            font-weight: bold;
            color: #2F4F2F;
            cursor: pointer;
            background: #F0FFF0;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 3px solid #90EE90;
            transition: all 0.3s;
        }

        .close-modal:hover {
            background: #90EE90;
            transform: rotate(90deg);
        }

        .modal-title {
            font-family: 'Caveat', cursive;
            font-size: 3rem;
            color: #2F4F2F;
            text-align: center;
            margin-bottom: 30px;
        }

        .pdf-list {
            margin: 20px 0;
        }

        .pdf-item {
            background: #F0FFF0;
            border: 3px solid #90EE90;
            border-radius: 15px;
            padding: 15px 20px;
            margin-bottom: 15px;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 15px;
            font-size: 1.1rem;
            justify-content: space-between;
        }

        .pdf-item.deleting {
            animation: slideOutRight 0.5s forwards;
            background: #FFE5E5;
            border-color: #FF6B6B;
        }

        @keyframes slideOutRight {
            0% { 
                transform: translateX(0);
                opacity: 1;
            }
            100% { 
                transform: translateX(100%);
                opacity: 0;
            }
        }

        .pdf-item-left {
            display: flex;
            align-items: center;
            gap: 15px;
            cursor: pointer;
            flex: 1;
        }

        .pdf-item-left:hover {
            color: #6B8E23;
        }

        .pdf-delete-cross {
            background: #FF6B6B;
            color: white;
            border: none;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.5rem;
            line-height: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
            flex-shrink: 0;
            font-weight: bold;
        }

        .pdf-delete-cross:hover {
            background: #FF5252;
            transform: scale(1.15) rotate(90deg);
            box-shadow: 0 0 10px rgba(255, 107, 107, 0.5);
        }

        .pdf-delete-cross:active {
            transform: scale(0.95);
        }

        .pdf-item-icon {
            font-size: 1.8rem;
        }

        .pdf-upload-btn {
            background: #90EE90;
            color: #2F4F2F;
            padding: 12px 30px;
            border: 3px solid #6B8E23;
            border-radius: 50px;
            font-size: 1.2rem;
            font-family: 'Caveat', cursive;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 15px;
            display: inline-block;
        }

        .pdf-upload-btn:hover {
            background: #6B8E23;
            color: white;
            transform: scale(1.05);
        }

        .modal-pdf-viewer {
            width: 100%;
            height: 70vh;
            border: 3px solid #90EE90;
            border-radius: 15px;
            margin-top: 20px;
            background: white;
            overflow: auto;
        }

        .modal-pdf-canvas-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            padding: 20px;
        }

        .contact-container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 30px;
            padding: 50px;
            max-width: 600px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
            border: 5px solid #8FBC8F;
            transform: rotate(-1deg);
        }

        .contact-container h2 {
            font-family: 'Caveat', cursive;
            font-size: 3.5rem;
            color: #2F4F2F;
            text-align: center;
            margin-bottom: 30px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #2F4F2F;
            font-size: 1.2rem;
        }

        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 3px solid #90EE90;
            border-radius: 15px;
            font-family: 'Patrick Hand', cursive;
            font-size: 1.1rem;
            background: #F0FFF0;
            transition: all 0.3s;
        }

        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #6B8E23;
            transform: scale(1.02);
        }

        .form-group textarea {
            resize: vertical;
            min-height: 150px;
        }

        .submit-btn {
            background: #90EE90;
            color: #2F4F2F;
            padding: 15px 40px;
            border: 3px solid #6B8E23;
            border-radius: 50px;
            font-size: 1.3rem;
            font-family: 'Caveat', cursive;
            cursor: pointer;
            transition: all 0.3s;
            width: 100%;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .submit-btn:hover {
            background: #6B8E23;
            color: white;
            transform: scale(1.05);
        }

        .section {
            display: none;
        }

        .section.active {
            display: block;
        }

        /* Petites feuilles d√©coratives */
        .leaf {
            position: absolute;
            width: 30px;
            height: 30px;
            background: #90EE90;
            clip-path: polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%);
            opacity: 0.6;
            animation: fall 10s infinite ease-in-out;
        }

        @keyframes fall {
            0% { transform: translateY(-50px) rotate(0deg); opacity: 0; }
            50% { opacity: 0.6; }
            100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
        }

        @media (max-width: 768px) {
            .title-container h1 {
                font-size: 3rem;
            }

            nav {
                right: 20px;
                top: 20px;
            }

            .nav-item {
                font-size: 1rem;
                padding: 8px 15px;
            }

            .creation-card {
                position: relative !important;
                margin: 20px auto;
                transform: rotate(0deg) !important;
                left: auto !important;
                right: auto !important;
                top: auto !important;
            }

            .creations-scattered {
                min-height: auto;
            }

            .contact-container {
                padding: 30px;
            }
        }
    </style>
</head>
<body>
    <!-- Nuages -->
    <div class="cloud cloud1"></div>
    <div class="cloud cloud2"></div>

    <!-- Feuilles tombantes -->
    <div class="leaf" style="left: 20%; animation-delay: 0s;"></div>
    <div class="leaf" style="left: 60%; animation-delay: 3s;"></div>
    <div class="leaf" style="left: 80%; animation-delay: 6s;"></div>

    <!-- Navigation -->
    <nav>
        <div class="nav-item" onclick="showSection('accueil')">üè† Accueil</div>
        <div class="nav-item" onclick="showSection('creations')">‚ú® Cr√©ations</div>
        <div class="nav-item" onclick="showSection('synthese')">üìä Synth√®se</div>
        <div class="nav-item" onclick="showSection('contact')">üìÆ Contact</div>
    </nav>

    <!-- Page d'accueil -->
    <section id="accueil" class="section active">
        <div class="tree tree-left"></div>
        <div class="tree tree-right"></div>
        <div class="title-container">
            <h1>Portfolio de Quentin B.</h1>
        </div>
        <div class="subtitle">BTS SIO - SISR</div>
    </section>

    <!-- Mes cr√©ations -->
    <section id="creations" class="section">
        <h2 class="creations-title">Mes Cr√©ations</h2>
        <div class="creations-scattered">
            <div class="creation-card" onclick="openCreationModal('patrimoine')">
                <div class="creation-icon">üì¶</div>
                <h3>Patrimoine Informatique</h3>
                <p>Inventaire et gestion compl√®te du parc via GLPI</p>
                <span class="creation-tag">GLPI</span>
            </div>

            <div class="creation-card" onclick="openCreationModal('support')">
                <div class="creation-icon">üé´</div>
                <h3>Support & Assistance</h3>
                <p>Gestion des incidents et ticketing utilisateur</p>
                <span class="creation-tag">Ticketing</span>
            </div>

            <div class="creation-card" onclick="openCreationModal('projet')">
                <div class="creation-icon">üìã</div>
                <h3>Mode Projet</h3>
                <p>Planification agile et suivi avec Trello</p>
                <span class="creation-tag">Trello</span>
            </div>

            <div class="creation-card" onclick="openCreationModal('cloud')">
                <div class="creation-icon">‚òÅÔ∏è</div>
                <h3>Service Cloud</h3>
                <p>D√©ploiement Nextcloud pour partage collaboratif</p>
                <span class="creation-tag">Nextcloud</span>
            </div>

            <div class="creation-card" onclick="openCreationModal('reseau')">
                <div class="creation-icon">üåê</div>
                <h3>Infrastructure R√©seau</h3>
                <p>Configuration et d√©ploiement services r√©seau</p>
                <span class="creation-tag">R√©seau</span>
            </div>

            <div class="creation-card" onclick="openCreationModal('accompagnement')">
                <div class="creation-icon">üìö</div>
                <h3>Accompagnement</h3>
                <p>Formations internes et documentation utilisateur</p>
                <span class="creation-tag">Formation</span>
            </div>

            <div class="creation-card" onclick="openCreationModal('veille')">
                <div class="creation-icon">üì°</div>
                <h3>Veille Techno</h3>
                <p>Veille RSS et certification Cisco en cours</p>
                <span class="creation-tag">Cisco</span>
            </div>
        </div>
    </section>

    <!-- Section Synth√®se -->
    <section id="synthese" class="section">
        <div class="synthese-container">
            <h2>Tableau de Synth√®se</h2>
            <div class="pdf-upload-zone" id="synthese-upload-zone" onclick="document.getElementById('synthese-pdf-input').click()">
                <div style="font-size: 3rem; margin-bottom: 10px;">üìÑ</div>
                <p style="font-size: 1.2rem; color: #2F4F2F;">Cliquez pour charger votre tableau de synth√®se (PDF)</p>
                <input type="file" id="synthese-pdf-input" accept="application/pdf" onchange="loadSynthesePDF(event)">
            </div>
            <div id="synthese-pdf-viewer" class="pdf-viewer">
                <div class="pdf-controls">
                    <button onclick="changeSynthesePage(-1)" id="synthese-prev">‚óÄ Pr√©c√©dent</button>
                    <span class="pdf-page-info">Page <span id="synthese-page-num">1</span> / <span id="synthese-page-count">-</span></span>
                    <button onclick="changeSynthesePage(1)" id="synthese-next">Suivant ‚ñ∂</button>
                </div>
                <div class="pdf-canvas-container">
                    <canvas id="synthese-canvas" class="pdf-canvas"></canvas>
                </div>
                <div style="text-align: center;">
                    <button class="replace-pdf-btn" onclick="document.getElementById('synthese-pdf-input').click()">üîÑ Remplacer le document</button>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact -->
    <section id="contact" class="section">
        <div class="contact-container">
            <h2>Me Contacter</h2>
            <div style="text-align: center; margin-bottom: 30px; padding: 20px; background: #F0FFF0; border-radius: 15px; border: 3px solid #90EE90;">
                <p style="font-size: 1.2rem; color: #2F4F2F; margin-bottom: 15px;">üìß Mon adresse email :</p>
                <p style="font-size: 1.4rem; color: #6B8E23; font-weight: bold; margin-bottom: 20px; font-family: 'Caveat', cursive;">quentin.bordron@angers.polebtsalternance.fr</p>
                <button id="copy-email-btn" class="submit-btn" style="width: auto; padding: 15px 40px;">
                    üìã Copier l'email
                </button>
            </div>
        </div>
    </section>

    <!-- Modal pour les cr√©ations -->
    <div id="creation-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeCreationModal()">√ó</span>
            <h2 class="modal-title" id="modal-title"></h2>
            <p style="text-align: center; color: #555; margin-bottom: 20px;" id="modal-description"></p>
            
            <div class="pdf-list" id="pdf-list"></div>
            
            <div style="text-align: center; margin-top: 20px;">
                <label class="pdf-upload-btn" for="creation-pdf-input">
                    üìé Ajouter un document PDF
                </label>
                <input type="file" id="creation-pdf-input" accept="application/pdf" style="display: none;" onchange="addPDFToCreation(event)">
            </div>
        </div>
    </div>

    <!-- Modal pour visualiser un PDF -->
    <div id="pdf-viewer-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closePDFViewer()">√ó</span>
            <h2 class="modal-title" id="pdf-viewer-title"></h2>
            <div id="modal-pdf-viewer" class="modal-pdf-viewer"></div>
        </div>
    </div>

    <script>
        // Configuration de PDF.js
        pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';

        // Donn√©es des cr√©ations avec leurs PDFs
        const creationsData = {
            patrimoine: {
                title: 'Patrimoine Informatique',
                description: 'Inventaire et gestion compl√®te du parc via GLPI',
                pdfs: []
            },
            support: {
                title: 'Support & Assistance',
                description: 'Gestion des incidents et ticketing utilisateur',
                pdfs: []
            },
            projet: {
                title: 'Mode Projet',
                description: 'Planification agile et suivi avec Trello',
                pdfs: []
            },
            cloud: {
                title: 'Service Cloud',
                description: 'D√©ploiement Nextcloud pour partage collaboratif',
                pdfs: []
            },
            reseau: {
                title: 'Infrastructure R√©seau',
                description: 'Configuration et d√©ploiement services r√©seau',
                pdfs: []
            },
            accompagnement: {
                title: 'Accompagnement',
                description: 'Formations internes et documentation utilisateur',
                pdfs: []
            },
            veille: {
                title: 'Veille Techno',
                description: 'Veille RSS et certification Cisco en cours',
                pdfs: []
            }
        };

        let currentCreation = null;
        let synthesePdfDoc = null;
        let syntheseCurrentPage = 1;
        let modalPdfDoc = null;
        let modalCurrentPage = 1;

        // Charger les donn√©es sauvegard√©es au d√©marrage
        window.addEventListener('DOMContentLoaded', function() {
            loadFromStorage();
        });

        // Sauvegarder dans le localStorage
        function saveToStorage() {
            // Sauvegarder les cr√©ations
            for (let key in creationsData) {
                localStorage.setItem('creation_' + key, JSON.stringify(creationsData[key].pdfs));
            }
        }

        // Charger depuis le localStorage
        function loadFromStorage() {
            // Charger les cr√©ations
            for (let key in creationsData) {
                const saved = localStorage.getItem('creation_' + key);
                if (saved) {
                    creationsData[key].pdfs = JSON.parse(saved);
                }
            }
            
            // Charger le PDF de synth√®se
            const savedSynthese = localStorage.getItem('synthesePDF');
            const savedSyntheseName = localStorage.getItem('synthesePDFName');
            if (savedSynthese && savedSyntheseName) {
                displaySynthesePDF(savedSynthese, savedSyntheseName);
            }
        }

        function showSection(sectionId) {
            const sections = document.querySelectorAll('.section');
            sections.forEach(section => {
                section.classList.remove('active');
            });
            document.getElementById(sectionId).classList.add('active');
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Rendu d'une page PDF sur un canvas
        async function renderPDFPage(pdfDoc, pageNum, canvas, scale = 1.5) {
            try {
                const page = await pdfDoc.getPage(pageNum);
                const viewport = page.getViewport({ scale: scale });
                
                canvas.height = viewport.height;
                canvas.width = viewport.width;
                
                const renderContext = {
                    canvasContext: canvas.getContext('2d'),
                    viewport: viewport
                };
                
                await page.render(renderContext).promise;
            } catch (error) {
                console.error('Erreur de rendu PDF:', error);
            }
        }

        // Gestion de la synth√®se PDF
        function loadSynthesePDF(event) {
            const file = event.target.files[0];
            if (file && file.type === 'application/pdf') {
                const reader = new FileReader();
                reader.onload = async function(e) {
                    const arrayBuffer = e.target.result;
                    localStorage.setItem('synthesePDFName', file.name);
                    
                    // Convertir ArrayBuffer en Base64 pour le stockage
                    const base64 = btoa(
                        new Uint8Array(arrayBuffer)
                            .reduce((data, byte) => data + String.fromCharCode(byte), '')
                    );
                    localStorage.setItem('synthesePDF', base64);
                    
                    displaySynthesePDF(arrayBuffer, file.name);
                };
                reader.readAsArrayBuffer(file);
            }
        }

        async function displaySynthesePDF(data, fileName) {
            const viewer = document.getElementById('synthese-pdf-viewer');
            viewer.innerHTML = `
                <div class="pdf-controls">
                    <button onclick="changeSynthesePage(-1)" id="synthese-prev">‚óÄ Pr√©c√©dent</button>
                    <span class="pdf-page-info">Page <span id="synthese-page-num">1</span> / <span id="synthese-page-count">-</span></span>
                    <button onclick="changeSynthesePage(1)" id="synthese-next">Suivant ‚ñ∂</button>
                </div>
                <div class="pdf-canvas-container">
                    <canvas id="synthese-canvas" class="pdf-canvas"></canvas>
                </div>
            `;
            viewer.classList.add('active');
            
            try {
                // Si data est une string base64, la convertir en ArrayBuffer
                if (typeof data === 'string') {
                    const binaryString = atob(data);
                    const bytes = new Uint8Array(binaryString.length);
                    for (let i = 0; i < binaryString.length; i++) {
                        bytes[i] = binaryString.charCodeAt(i);
                    }
                    data = bytes.buffer;
                }
                
                const loadingTask = pdfjsLib.getDocument({ data: data });
                synthesePdfDoc = await loadingTask.promise;
                document.getElementById('synthese-page-count').textContent = synthesePdfDoc.numPages;
                
                renderSynthesePage(1);
            } catch (error) {
                console.error('Erreur de chargement PDF:', error);
                viewer.innerHTML = '<p style="text-align: center; padding: 40px; color: #2F4F2F;">Erreur lors du chargement du PDF. Veuillez r√©essayer.</p>';
            }
        }

        async function renderSynthesePage(pageNum) {
            syntheseCurrentPage = pageNum;
            const canvas = document.getElementById('synthese-canvas');
            await renderPDFPage(synthesePdfDoc, pageNum, canvas);
            
            document.getElementById('synthese-page-num').textContent = pageNum;
            document.getElementById('synthese-prev').disabled = pageNum <= 1;
            document.getElementById('synthese-next').disabled = pageNum >= synthesePdfDoc.numPages;
        }

        function changeSynthesePage(delta) {
            const newPage = syntheseCurrentPage + delta;
            if (newPage >= 1 && newPage <= synthesePdfDoc.numPages) {
                renderSynthesePage(newPage);
            }
        }

        // Ouvrir le modal d'une cr√©ation
        function openCreationModal(creationId) {
            currentCreation = creationId;
            const creation = creationsData[creationId];
            
            document.getElementById('modal-title').textContent = creation.title;
            document.getElementById('modal-description').textContent = creation.description;
            
            rebuildPDFList();
            
            document.getElementById('creation-modal').classList.add('active');
        }

        // GESTIONNAIRE D'√âV√âNEMENTS GLOBAL SUR LE BODY
        document.body.addEventListener('click', function(e) {
            // V√©rifier si on a cliqu√© sur une croix de suppression
            if (e.target && e.target.classList.contains('pdf-delete-cross')) {
                e.preventDefault();
                e.stopPropagation();
                
                console.log('‚úÖ CLIC D√âTECT√â sur croix de suppression !');
                
                // Trouver l'index via l'√©l√©ment parent
                const pdfItem = e.target.closest('.pdf-item');
                const pdfList = document.getElementById('pdf-list');
                const allItems = Array.from(pdfList.querySelectorAll('.pdf-item'));
                const idx = allItems.indexOf(pdfItem);
                
                console.log('Index trouv√©:', idx);
                console.log('currentCreation:', currentCreation);
                
                if (idx !== -1 && currentCreation && creationsData[currentCreation]) {
                    const pdfName = creationsData[currentCreation].pdfs[idx].name;
                    console.log('Nom du PDF:', pdfName);
                    console.log('‚úÖ Suppression imm√©diate');
                    
                    // Animation de suppression
                    pdfItem.style.transition = 'all 0.3s';
                    pdfItem.style.opacity = '0';
                    pdfItem.style.transform = 'translateX(50px)';
                    
                    setTimeout(() => {
                        creationsData[currentCreation].pdfs.splice(idx, 1);
                        saveToStorage();
                        console.log('‚úÖ PDF supprim√© et sauvegard√©');
                        rebuildPDFList();
                    }, 300);
                } else {
                    console.error('‚ùå Impossible de trouver le PDF √† supprimer');
                }
            }
        }, true);

        // FONCTION DE SUPPRESSION (backup)
        window.handleDeletePDF = function(idx) {
            console.log('handleDeletePDF appel√© avec idx:', idx);
            
            if (!currentCreation || !creationsData[currentCreation]) {
                console.error('currentCreation invalide');
                return;
            }
            
            const pdfName = creationsData[currentCreation].pdfs[idx].name;
            
            if (confirm('Supprimer "' + pdfName + '" ?')) {
                creationsData[currentCreation].pdfs.splice(idx, 1);
                saveToStorage();
                rebuildPDFList();
                alert('‚úÖ "' + pdfName + '" supprim√© !');
            }
        };

        // Reconstruire la liste
        function rebuildPDFList() {
            const pdfList = document.getElementById('pdf-list');
            const pdfs = creationsData[currentCreation].pdfs;
            
            if (pdfs.length === 0) {
                pdfList.innerHTML = '<p style="text-align: center; color: #888; padding: 20px;">Aucun document ajout√©.</p>';
                return;
            }
            
            let html = '';
            for (let i = 0; i < pdfs.length; i++) {
                html += '<div class="pdf-item">';
                html += '<div class="pdf-item-left" onclick="viewPDF(\'' + currentCreation + '\', ' + i + ')">';
                html += '<span class="pdf-item-icon">üìÑ</span><span>' + pdfs[i].name + '</span>';
                html += '</div>';
                html += '<span class="pdf-delete-cross" title="Supprimer">√ó</span>';
                html += '</div>';
            }
            
            pdfList.innerHTML = html;
        }

        // Fermer le modal de cr√©ation
        function closeCreationModal() {
            document.getElementById('creation-modal').classList.remove('active');
        }

        // Ajouter un PDF √† une cr√©ation
        function addPDFToCreation(event) {
            const file = event.target.files[0];
            if (file && file.type === 'application/pdf') {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const arrayBuffer = e.target.result;
                    
                    // Convertir ArrayBuffer en Base64
                    const base64 = btoa(
                        new Uint8Array(arrayBuffer)
                            .reduce((data, byte) => data + String.fromCharCode(byte), '')
                    );
                    
                    creationsData[currentCreation].pdfs.push({
                        name: file.name,
                        data: base64
                    });
                    saveToStorage();
                    rebuildPDFList();
                };
                reader.readAsArrayBuffer(file);
                event.target.value = '';
            }
        }

        // Visualiser un PDF
        async function viewPDF(creationId, index) {
            const pdf = creationsData[creationId].pdfs[index];
            document.getElementById('pdf-viewer-title').textContent = pdf.name;
            
            const viewer = document.getElementById('modal-pdf-viewer');
            viewer.innerHTML = `
                <div class="pdf-controls">
                    <button onclick="changeModalPage(-1)" id="modal-prev">‚óÄ Pr√©c√©dent</button>
                    <span class="pdf-page-info">Page <span id="modal-page-num">1</span> / <span id="modal-page-count">-</span></span>
                    <button onclick="changeModalPage(1)" id="modal-next">Suivant ‚ñ∂</button>
                </div>
                <div class="modal-pdf-canvas-container">
                    <canvas id="modal-canvas" class="pdf-canvas"></canvas>
                </div>
            `;
            
            try {
                // Convertir base64 en ArrayBuffer
                const binaryString = atob(pdf.data);
                const bytes = new Uint8Array(binaryString.length);
                for (let i = 0; i < binaryString.length; i++) {
                    bytes[i] = binaryString.charCodeAt(i);
                }
                
                const loadingTask = pdfjsLib.getDocument({ data: bytes.buffer });
                modalPdfDoc = await loadingTask.promise;
                document.getElementById('modal-page-count').textContent = modalPdfDoc.numPages;
                
                renderModalPage(1);
                document.getElementById('pdf-viewer-modal').classList.add('active');
            } catch (error) {
                console.error('Erreur de chargement PDF:', error);
                viewer.innerHTML = '<p style="text-align: center; padding: 40px; color: #2F4F2F;">Erreur lors du chargement du PDF. Veuillez r√©essayer.</p>';
            }
        }

        async function renderModalPage(pageNum) {
            modalCurrentPage = pageNum;
            const canvas = document.getElementById('modal-canvas');
            await renderPDFPage(modalPdfDoc, pageNum, canvas);
            
            document.getElementById('modal-page-num').textContent = pageNum;
            document.getElementById('modal-prev').disabled = pageNum <= 1;
            document.getElementById('modal-next').disabled = pageNum >= modalPdfDoc.numPages;
        }

        function changeModalPage(delta) {
            const newPage = modalCurrentPage + delta;
            if (newPage >= 1 && newPage <= modalPdfDoc.numPages) {
                renderModalPage(newPage);
            }
        }

        // Fermer le visualiseur de PDF
        function closePDFViewer() {
            document.getElementById('pdf-viewer-modal').classList.remove('active');
            document.getElementById('modal-pdf-viewer').innerHTML = '';
            modalPdfDoc = null;
        }

        // Fermer les modals en cliquant √† l'ext√©rieur
        window.onclick = function(event) {
            const creationModal = document.getElementById('creation-modal');
            const pdfModal = document.getElementById('pdf-viewer-modal');
            
            if (event.target === creationModal) {
                closeCreationModal();
            }
            if (event.target === pdfModal) {
                closePDFViewer();
            }
        }

        // Gestion du bouton copier email
        window.addEventListener('DOMContentLoaded', function() {
            const copyEmailBtn = document.getElementById('copy-email-btn');
            if (copyEmailBtn) {
                copyEmailBtn.addEventListener('click', function() {
                    const email = 'quentin.bordron@angers.polebtsalternance.fr';
                    
                    // M√©thode moderne
                    if (navigator.clipboard && navigator.clipboard.writeText) {
                        navigator.clipboard.writeText(email).then(function() {
                            copyEmailBtn.textContent = '‚úÖ Email copi√© !';
                            setTimeout(function() {
                                copyEmailBtn.textContent = 'üìã Copier l\'email';
                            }, 2000);
                        }).catch(function() {
                            // Fallback si √ßa √©choue
                            fallbackCopy(email);
                        });
                    } else {
                        // Fallback pour navigateurs plus anciens
                        fallbackCopy(email);
                    }
                });
            }
            
            function fallbackCopy(text) {
                const textArea = document.createElement('textarea');
                textArea.value = text;
                textArea.style.position = 'fixed';
                textArea.style.left = '-999999px';
                document.body.appendChild(textArea);
                textArea.select();
                try {
                    document.execCommand('copy');
                    copyEmailBtn.textContent = '‚úÖ Email copi√© !';
                    setTimeout(function() {
                        copyEmailBtn.textContent = 'üìã Copier l\'email';
                    }, 2000);
                } catch (err) {
                    alert('Email : quentin.bordron@angers.polebtsalternance.fr');
                }
                document.body.removeChild(textArea);
            }
        });
    </script>
</body>
</html>